testlist <- list(fx = c(5.5197248763606e+41, -1.7992169157845e+20, NaN, 2.91411822788071e-88,  -3.871552647973e+157, -3.38182929810601e-168, -6.16594368450833e-172,  -7.0481706490099e-65, -4.259869509111e-66, -2.98283941939476e-289,  1.31358711653743e-254, 38.1940481044127, -1.33019382952698e+123,  4.52837194236035e+152, 3.65340317817249e+170, -8.68073901684419e-196,  6.54921051844966e-167, -5340.98567549546, 3.89675191568249e-21,  9.81635834241621e+210, -3.31109971888322e-292, 129974375244437,  -8.54057481060303e-259, -5.43736994530736e-115, -5.02576329926465e+29,  -1.04828503580562e-20, -2.99063172907296e-277, 3.19850708015885e-76,  -7.0545479624838e-178, 6.07950341498818e+255, 4.63907873601515e-220,  -8.17575586461575e+245, 1.03679501856838e+238, -9.13449574579772e-127,  2.15154648637136e+110, 8.59098156940563e+239, 1.53615616110062e-212,  2.85125976267839e-110, NaN, -3.14775815574368e+300, -4.35442895905888e-306,  2.6952746116388e+182, -1.32836289204039e+52, 3.32532028299867e+288,  -6.92351225868802e+266, -2.15699026592165e-232, 8.2772749177792e-32,  NaN, -5.22175594872904e-299, 2.76833140589329e-24, -6.69878628777723e-115,  2.09302948957665e+229, 1.53614401649942e-246, 8.04458518074872e-148,  3.21970352544401e-191, 3.0565250098067e-124, 2.2904475312132e+129,  -1.05657433286712e-173, 1.76098307075269e-101, NaN, 2.76585564592917e+32,  6.02941581562947e+53, 8.8195246583284e-121, 1.97563339900132e+195,  -6.70606536623331e+105, 0), group = c(1.7213388972853e+263, -3.64095142047387e-308,  9.26780035922717e+47, -0.0334836795799671, 3.74923505097743e+251,  1.32409164917673e+71, 4.78452920128434e+71, 1.21865860741561e+249,  -Inf, -4.33050276942711e+294, 4.50985757534169e-306, 3.03249714880401e-65,  4.68504435701983e+286, -3.12168651112069e-270, 7.92529627222955e+273,  1.16629039812904e-247, -2.35920563253221e+88, -1.57494836086767e+150,  1.02747068127331e-98, 1.26169367119497e-272, 5.16206135401807e-224,  8.04145875740331e+257, NaN, -8.93685877324201e-152, 1.87120500794389e-101,  4.18255424952861e-169, 3.52088987638539e-290, 2.59472014314608e+20,  -4.96730860243483e+121, -1.29859674046142e-142, -2.52175064285591e+287,  -2.62401465372111e+80, -1.22801357923654e+297, Inf, Inf, 1.78475994985042e-175,  -6.12990887625847e-234, -7.83592878118118e+245, -1.57919929043955e-39,  -2.05310810568091e+170, 1.10467829279029e-150, -7.37087832938548e-273,  -2.24665452135547e-243, 1.0464673878275e-299, -4.63641945026032e+303,  2.2752313720467e+272, 4.45843982580869e+292, -8.75483485968271e-110,  1.58291723955776e-25, 1.22410758469161e-170, NaN, -1.86301987767e-12,  -7.42797521188037e+186, 2.01016221434763e+298, 7.13380495295151e+242,  -98143969193965872, -3.216984599563e+155, -4.10785385304023e-15,  -1.35004294970828e-134, 1.68228126900421e-276, -1.69480006996724e+106,  -4.65493913899635e-07, -6.4835764651299e-187, 3.40787587376076e+25,  -6.50733963746914e+288, 0), n = 449541429L, y = c(-1.78200116802736e+78,  -50057282898286984, -2.31531953404082e-244, -6.15458932257219e-180,  -4.99222661163859e+257, 6.49269788920517e-224, -1.45604639147261e-141,  1.64185242756424e+306, -3.18618836719854e-239, -1.36845727212839e+73,  7.83204092705231e+82, -1.73721266297668e-292, -3.23173530804196e-30,  4.13126861155606e+35, 2.91187940643375e+183, -1.62381006677908e-104,  8.40159290074957e-88, -2.85882433368448e+233, 1.92967142572446e-103,  -7.57904709749931e-205, 6.71977645089151e-108, -5.32490037484536e-84,  -2.07272419990844e+126, 3.14271005706394e+156, -4.82558820189839e+169,  6.64032714124505e-299, -19322395836261908, 2.8236174878876e-143,  -0.150750741424824, 9.28593697749869e-165, 1.69404980017349e+184,  1.75357700565666e-306, -1.00240760566293e-166, -4.50261015959043e-74,  9.83367081501179e-137, -1.14899299003e-82, Inf, 3.36169364817192e-218,  6.67520092135556e+30, 1.12428861990063e-103, Inf, -2.32758285247593e-232,  6.50617936630948e+180, -3.59894386586265e-69, -5.88964858643095e-78,  6.36470462482734e+162, 1.37646547155764e+237, 1.45738690354341e-206,  -1.21690561640123e-75, Inf, -8.4783779334832e+260, -1.11954780479639e+31,  -4.83779462466728e-214, 9.73459974566992e-66, 5.17516042419653e+225,  -2.24504428818047e+85, -4.73705054097364e-128, 2.48046646744117e+54,  5.93037039806971e-171, -1.81370719838456e-140, 6.01598933435804e-278,  9.44126008850242e+266, -3.30011933227583e-200, -2.58374558993939e+205,  -6.20308515963241e-220, 6.51432556474949e-164, NaN, 3.35716594254345e-214,  1.62719917711951e-121, 1.71302534832326e-307, 2.56510688403742e+124,  2.88213507511103e-157, 1.14484578205285e-104, 4.111248605816e+131,  2.9543766659555e-128, 2.82408021909447e-218, 7.34126221579299e-93,  -4.89933879253429e+221, -2.45645064319688e-07, -8.33137635657944e+116,  -2.37207600822731e+91, -Inf, 1.13506654848295e+236, -2.25883188868301e+47,  -1.38194836093908e+213, 2.83892247844372e-262, 0))
result <- do.call(clogitboost:::persamplegrad,testlist)
str(result)