testlist <- list(A = structure(c(1.06152813341568e-283, 2.12702962306552e-106,  9.48499556713652e+20, 2.71131990255803e+157, 8.75382245934381e-255,  4.88112842143065e+307, 1.54434479990168e-251, 8.26012260484511e+195,  7.1232784842253e-180, 7.92610081734872e+55, 1.84652994946983e+217,  1.25892856580714e-113, 4.86259061933856e-249, 6.1257424816296e+42,  1.44265682975699e-262, 1.72296817226166e-173, 4.58766865278905e-110,  6.0135819693893e-78, 5.2000654720354e+128, 1.46882839607195e-135,  1.84360579097175e-284, 7.40340695120246e-118, 1.85768473027399e+129,  2.03120881174847e+39, 5.65085444865488e+306, 3.02894412312696e-127,  1.4277225091774e+47, 4.76865525436485e-169, 1.52012901874303e+170,  1.67059238868483e+112), .Dim = c(10L, 3L)), B = c(3.2771821485806e-70,  -4.37178951661483e-223, 1.60424999197312e-307, -6.57119586909817e+263,  2.28154842161125e+259, -1.70553486798181e-09, -1.19576050569959e-14,  8.4756674818398e+279, 1.04292544503258e+50, 2.68375491360253e+50,  -5.60336980011623e+72, -1.26603706171577e+218, -1030.52858652583,  -1.87149938159817e-234, -8.04399448339931e-26, -7.84433055011716e+82,  -2.40986780249723e+288, -2.87762377342121e+202, -3.79298441052185e+106,  NaN, 2.06746098335423e+121, -8.24218132939201e+241, -4.88442433037579e-101,  1.93131814759936e+266, -5.11222420218379e-110, 559622742018620736,  1.20426661643783e-148, 3.52868022421791e-84, -1.79544890543556e+202,  -1.28902494316386e+228, 2178478892989.19, Inf, -1.29067160509818e+44,  -1.05377362818054e+298, 1.64613932955122e+90, 1.39071478700234e+61,  -4.50709126870149e+297, -2.39847533263313e-197, -5.21129310254162e+160,  1.49565543765111e+68, 4.18675364934209e+154, -4.88619464572604e-223,  1.59176105328088e-143, 2.70268173193798e-224, 3.99061487759216e+29,  82614133365.5744, -1.21797594134128e+263, 3.1897082618887e-232,  2.08572363166405e-94, 9.11272337565609e-88, 1.35777848853023e-08,  -1.15300826541269e-153, 2.12145204386473e-52, 952200822188903424,  -Inf, -Inf, 1.48049290259111e-201, -1.25548465881337e+216, 1.39952581970539e-59,  3.7330513125711e+164, -2.8105111416743e+228, 8.07360795268803e+136,  -2.25074857883041e+155, -8.07969268825225e+82, -1.24066331746857e+222,  1.18783605802343e+259, 2.25412333424304e-58, -2.49403572989306e-124,  1.98771595328051e-102, -5.85738576047646e-241, 2.14628268943107e-25,  -1.63438879182573e-251, 0.000923088818002968, 1.48305960436869e-169,  -1.55222635932526e+187, -7163.43042167889, -6.77435994501586e+102,  2.46488874801123e+261, -5.40748788979745e+41, 2.98346498868187e+60,  0))
result <- do.call(hetGP:::add_diag,testlist)
str(result)